definition

module org/sugarj/languages/SugarJS
imports org/sugarj/languages/JavaScript 
        org/sugarj/languages/Sdf2
        org/sugarj/languages/Stratego
        org/sugarj/languages/EditorServices
        org/sugarj/languages/Sugar

exports
 
  lexical syntax
    [\ \t\12\r\n] -> LAYOUT

  context-free syntax %% ToplevelDeclaration
    SugarImportDec -> TopLevelDeclaration
    JavaScriptProgram -> TopLevelDeclaration
    SugarDec -> ToplevelDeclaration

  context-free start-symbols
  	SugarCompilationUnit

  context-free syntax
    SugarImportDec* JavaScriptProgram  -> SugarCompilationUnit {cons("CompilationUnit")}
    SugarImportDec* SugarDec  -> SugarCompilationUnit {cons("CompilationUnit")}

    SugarModuleDec SugarBody      -> SugarDec {cons("SugarDec")}

    "sugar" SugarModuleSpec	          -> SugarModuleDec {cons("SugarModuleDec")}

    "{" SugarDefElem* "}" 		  -> SugarBody {cons("SugarBody")}
    
    "import" SugarModuleSpec           -> SugarImportDec {cons("SugarImportDec")}
    
    "\"" SugarModuleName "\""     -> SugarModuleSpec {cons("SugarModuleSpec")}
    
    {SugarModulePart "/"}+                 -> SugarModuleName {cons("SugarModuleName")}
    
    lexical syntax
    [A-Za-z] [A-Za-z0-9]*             -> SugarModulePart
  
    lexical restrictions
    SugarModId -/- [A-Za-z0-9] 